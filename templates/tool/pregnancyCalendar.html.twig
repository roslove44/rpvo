{% extends "base.html.twig" %}
{% block title %}Roulette obstétricale - RPVO{% endblock %}


{% block body %}
<main id="main">

    <!-- ======= Breadcrumbs ======= -->
    <div class="breadcrumbs"
        style="background: url(&quot;https://rpvo.mlc-site.fr/wp-content/themes/pregnancy/images/breadcrumb1.jpg&quot;) 50% 100% no-repeat;">
        <div class="page-header d-flex align-items-center" style="background-image: url('');">
            <div class="container position-relative">
                <div class="row d-flex justify-content-center">
                    <div class="col-lg-6 text-center">
                        <h2>RPVO</h2>
                        <p>Profitez des outils mis à votre disposition.</p>
                    </div>
                </div>
            </div>
        </div>
        <nav>
            <div class="container">
                <ol>
                    <li><a href="https://rpvo.mlc-site.fr/">RPVO</a></li>
                    <li><a href="https://rpvo.mlc-site.fr/outils-pratiques/">Outils pratiques</a></li>
                    <li>Calendrier de grossesse</li>
                </ol>
            </div>
        </nav>
    </div><!-- End Breadcrumbs -->


    <section id="outils" class="faq">
        <div class="container aos-init aos-animate" data-aos="fade-up">

            <div class="row gy-4 contact">

                <div class="col-lg-3">
                    <div class="content px-xl-5">
                        <h3><strong>Calendrier de grossesse</strong></h3>
                        <p>
                            Cet outil est un calendrier de dates utiles pour le suivi obstétrical.
                        </p>
                    </div>
                </div>

                <div class="col-lg-9">
                    <form name="calculator_for_premature_form" method="post">
                        <div class="php-email-form pt-2 pb-2">
                            {% if result %}
                            <div class="col-lg-12 {% if not result %}d-none{% endif %}aos-init aos-animate"
                                data-aos="fade-up">
                                <div class="card">
                                    <div class="card-body">
                                        <h5 class="card-title">Votre calendrier de grossesse</h5>
                                        <div class="card-text" style="font-size: 15px;color: #6c757d;">
                                            <p>
                                            </p>
                                            <table class="table">
                                                <thead>
                                                    <tr>
                                                        <th scope="col" class="text-center text-uppercase"
                                                            style="background-color: var(--color-primary); color:#f2f2f2;">
                                                            Dâte prévue pour l'accouchement
                                                        </th>
                                                        <th scope="col" class="text-center text-uppercase"
                                                            style="background-color: var(--color-primary);color:#f2f2f2;">
                                                        </th>
                                                    </tr>
                                                </thead>
                                                <tbody>
                                                    <tr>
                                                        <td class="text-center" style="background-color: #f2f2f2;">
                                                            {{result.estimatedDueDate | date('j')}}
                                                            {{result.estimatedDueDate | date('F') | trans}}
                                                            {{result.estimatedDueDate | date('Y')}}
                                                        </td>
                                                        <td class="text-center" style="background-color: #f2f2f2;">
                                                            Jour J- {{result.differenceInDays}}
                                                        </td>
                                                    </tr>
                                                </tbody>
                                            </table>
                                        </div>
                                        <div class="card-footer">
                                            <div class="flex flex-column justify-content-center">
                                                <div>
                                                    <h6 class="text-bold">Echographie n°1</h6>
                                                    <p>
                                                        {{result.firstUltrasoundDate.min | date('j')}}
                                                        {{result.firstUltrasoundDate.min | date('F') | trans}}
                                                        {{result.firstUltrasoundDate.min | date('Y')}}

                                                        jusqu'au
                                                        {{result.firstUltrasoundDate.max | date('j')}}
                                                        {{result.firstUltrasoundDate.max | date('F') | trans}}
                                                        {{result.firstUltrasoundDate.max | date('Y')}}
                                                    </p>
                                                </div>
                                                <div>
                                                    <h6 class="text-bold">Echographie n°2</h6>
                                                    <p>
                                                        {{result.secondUltrasoundDate.min | date('j')}}
                                                        {{result.secondUltrasoundDate.min | date('F') | trans}}
                                                        {{result.secondUltrasoundDate.min | date('Y')}}

                                                        jusqu'au
                                                        {{result.secondUltrasoundDate.max | date('j')}}
                                                        {{result.secondUltrasoundDate.max | date('F') | trans}}
                                                        {{result.secondUltrasoundDate.max | date('Y')}}
                                                    </p>
                                                </div>
                                                <div>
                                                    <h6 class="text-bold">Echographie n°3</h6>
                                                    <p>
                                                        {{result.thirdUltrasoundDate.min | date('j')}}
                                                        {{result.thirdUltrasoundDate.min | date('F') | trans}}
                                                        {{result.thirdUltrasoundDate.min | date('Y')}}

                                                        jusqu'au
                                                        {{result.thirdUltrasoundDate.max | date('j')}}
                                                        {{result.thirdUltrasoundDate.max | date('F') | trans}}
                                                        {{result.thirdUltrasoundDate.max | date('Y')}}
                                                    </p>
                                                </div>
                                            </div>

                                            <p class="mt-2">
                                                Vous voilà actuellement dans votre {{result.trimester.title}} de
                                                grossesse.
                                                <br>
                                                Le Réseau Périnatal du Val d'Oise met à votre disposition un guide
                                                complet afin de
                                                vous assister durant votre grossesse.
                                            </p>
                                            <a href="{{ asset('assets/docs/Mémo Trimestre-' ~ result.trimester.rank ~ '.pdf') }}"
                                                download target="_blank" class="text-bold">Télécharger le mémo</a>

                                        </div>
                                        <a href="" class="btn mt-2" style="background-color:#f2f2f2;">
                                            <i class="bi bi-arrow-left"></i>
                                            Réinitialiser
                                        </a>
                                    </div>
                                </div>
                            </div>
                            {% else %}
                            <div class="row align-items-start">
                                <div class="col-lg-4 col-12">
                                    <label><strong>Date des dernières règles</strong></label>
                                    <div class="mb-3">
                                        <input type="date" class="form-control" name="lastMenstrualDate"
                                            aria-describedby="lastMenstrualDate" required>
                                        <div class="form-text" id="lastMenstrualDate">
                                            <i>*Date du 1er jour de mes dernières règles.</i>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-lg-5 col-12">
                                    <label><strong>Durée du cycle</strong></label>
                                    <div class="mb-3">
                                        <select name="cycleDuration" id="cycleDuration" class="form-select" required>
                                            <option value="">Durée de votre cycle</option>
                                            <option value="22">22</option>
                                            <option value="23">23</option>
                                            <option value="24">24</option>
                                            <option value="25">25</option>
                                            <option value="26">26</option>
                                            <option value="27">27</option>
                                            <option value="28">28</option>
                                            <option value="29">29</option>
                                            <option value="30">30</option>
                                            <option value="31">31</option>
                                            <option value="32">32</option>
                                            <option value="33">33</option>
                                            <option value="34">34</option>
                                            <option value="35">35</option>
                                        </select>
                                        <div class="form-text" id="pregnancyStartDate">
                                            <i>*Le cycle menstruel est variable d'une femme à l'autre. Un cycle
                                                menstruel normal se situe entre 22 et 35 jours.</i>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-lg-3 col-12 my-2 mt-lg-4">
                                    <button type="submit">Calculer</button>
                                </div>
                            </div>
                            {% endif %}
                    </form>
                </div>

            </div>



        </div>
    </section>

    <section id="outils-guide" class="faq mt-4">
        <div class="container aos-init aos-animate" data-aos="fade-up">

            <div class="row gy-4">

                <div class="col-lg-4">
                    <div class="content px-xl-5">
                        <h3>Le Guide <strong>Pratique</strong></h3>
                        <p>
                        </p>
                    </div>
                </div>

                <div class="col-lg-8">

                    <div class="accordion accordion-flush aos-init aos-animate" id="faqlist" data-aos="fade-up"
                        data-aos-delay="100">
                        <div class="accordion-item">
                            <h3 class="accordion-header">
                                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                                    data-bs-target="#faq-content-1">
                                    <span class="num">1.</span>
                                    Pourquoi calculer sa date d'accouchement ?
                                </button>
                            </h3>
                            <div id="faq-content-1" class="accordion-collapse collapse" data-bs-parent="#faqlist">
                                <div class="accordion-body">
                                    <p>
                                        La nouvelle est tombée, vous êtes enceinte ! Nous vous félicitons pour cet
                                        heureux évènement. Maintenant, il vous tarde
                                        de savoir la date prévue pour l’arrivée de Bébé. En attendant votre rendez-vous
                                        médical avec votre professionnel de
                                        santé, qui estimera votre date d’accouchement, vous pouvez la calculer vous-même
                                        grâce à notre calculateur de grossesse.
                                        <br>
                                        Calculer votre date de terme, qui sera ensuite confirmée avec votre
                                        professionnel de santé, vous permettra de vous
                                        préparer au mieux à l’arrivée de bébé. En effet, cet heureux évènement demande
                                        une certaine organisation jusqu’au jour
                                        de la naissance. Ainsi, vous devez prévoir les différentes étapes de la
                                        grossesse que vous retrouverez dans votre
                                        calendrier de grossesse personnalisé comme votre première échographie, le suivi
                                        médical avec votre professionnel de
                                        santé ou encore votre congé maternité.
                                    </p>
                                </div>
                            </div>
                        </div><!-- # Faq item-->
                    </div>

                </div>
            </div>

        </div>
    </section>

</main><!-- End #main -->
{% endblock %}

{% block javascripts %}
{#
<script src="{{asset('assets/js/tool/obstetricalCastor.js')}}"></script> #}
{% endblock %}

{% block stylesheets %}
<style>
    @media print {
        body * {
            visibility: hidden;
        }

        #outils,
        #outils * {
            visibility: visible;
            width: 100%;
            font-size: 12px;
        }

        tr {
            display: flex;
            flex-direction: row;
            justify-content: space-around;
        }

        #outils {
            position: absolute;
            left: 0;
            top: 0;
        }
    }
</style>
{% endblock %}